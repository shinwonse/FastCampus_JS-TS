{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/store.ts","src/app.ts"],"names":[],"mappings":";;;;;;AGAa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,OAAA,CAAA,WAAA,GAAc,wCAAd;;;;;AKDb,IAAA,APA8B,QOA9B,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;APME,AKNF,IAAA,ACEa,YNIC,MKNd,GAAA,ELME,EAAiC,GKNnC,CAAA,ILME,EAAiD,cKNnD,CAAA;AECA,APKmD,AMAjD,ICLF,MAAA,GAAA,MDKE,CCLF,CAAA,QAAA,CAAA;AFDS,ACMP,MDNO,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AEET,APKI,AKPK,EAAA,EEET,IPKU,GOLV,CFFS,EEET,AFFS,IAAA,GEET,CAAA,EPK0B,GACpB,IONN,CAAA,GPMc,CAAC,cAAT,CAAwB,WAAxB,CADF;AKPK,ACOL,EDPK,GAAA,EAAA,ECOA,KAAL,GAAa,EAAb,GDPK;AEIT,APMI,AKVK,ACQL,ICJE,ARDe,ICOb,CONG,APMF,AMFA,EDRA,CEIK,IAAI,KDId,ECJc,CAAA,ADIM,CNEpB,AMFA,CDRK,CLUkB,AKVlB,EEIK,EAAd,cFJS,CAAA,CAAA,OAAA;AEMT,AREE,ACGI,AKXU,ACSb,ICHG,MAAM,EPKA,COLW,IAAI,GREzB,KQFyB,CAAA,OAAJ,EAAvB,MPKM;AOJN,ARCE,ACIG,AKZI,CAAA,GEOH,YAAY,GAAG,IAAI,MAAA,CAAA,YAAJ,CAAiB,MAAjB,EAAyB,KAAzB,CAArB;AACA,IAAM,cAAc,GAAG,IAAI,MAAA,CAAA,cAAJ,CAAmB,MAAnB,EAA2B,KAA3B,CAAvB;AAEA,ARDI,ACKA,AKbJ,INQI,AMRJ,EESM,CAAC,EPIE,CDLC,CAAC,OCKP,EKbJ,CESA,APIqB,COJC,CFTtB,INQI,CAAwB,EMR5B,CAAA,GESA,GPII,GDLA,EAAsC,KAAK,EMR/C,CAAA,ENQ0C,CAAW,IAAX,CAAgB,IAAhB,CAAtC;AQGJ,ARDI,ACIA,MOHE,CAAC,ERDE,ACIA,AMJP,OPAE,CCIA,EOHJ,ARDmB,CQCC,APGA,IDJhB,AOAa,ICCjB,APGI,EOH0B,YAA9B,EAA4C,aAA5C;AACA,ARDI,ACIA,AKfK,ACWL,MCCE,AFZG,CEYF,AFZE,ENWA,ACIA,IMJE,KAAK,CCChB,CAAoB,CRDhB,AMXK,CAAA,CLeL,CDJoB,ECIE,EOH1B,ARDI,CMXK,CEYqB,ADD1B,CDXK,GLeL,UOHJ,CFZS,CEYqC,CFZrC,YEYT;ARAI,ACIA,AKhBK,ACYN,EDZM,ONYA,ACIA,GKhBA,EAAA,GLgBL,CKhBK,CNYL,CCIgB,EDJE,ACIlB,EDJA;AACD,ACIA,AKjBM,EAAA,GAAA,EAAA,ECcP,aDdO,ACcS,IAAhB,EAA4B;ADdrB,ACeL,WDfK,ACeA,YAAL,GDfK,ACee,CDff,GCeL,aDfK,CAAA,CAAA,OAAA;AAAO,ACgBb;ADhBM,CAAA,GJCY;AAInB,WFUA,ACIU,ICdE,GAAZ,EAAuB,aDcH,EDJL,IAAf,EAAuD;AEVhC,AFUgC,ACKrD,SMFF,CPH2B,CCKpB,KDLgD,ICKrD,CAAe,GMFL,MNEV,GAA2B,KAAK,cAAhC,mCDLiD,IAAI;AACrD,ACKA,AMFA,WPHK,ACKA,EMFE,KAAK,KPHZ,ECKA,CDLoB,ECKE,EMFf,GNEoB,AMFA,CAA3B,ONEA;ACfA,AFWE,ACKH,AMFA,QPHG,CEXG,GFWC,CEXN,CFWQ,EEXI,AFUQ,IEVJ,cAAJ,EAAZ;AACA,AFWE,AInBN,ACAA,IDAA,ACAA,ILmBM,CEXG,CERT,ACAA,EHQI,AFWM,CInBV,ACAA,CLmBM,CEXS,GAAX,AFSoB,UIjBxB,ACAA,CDAA,ACAA,ODAA,ACAA,CDAA,ACAA,cDAA,ACAA,CDAA,ACAA,CDAA,ACAA;AHSG,AFWG,QAAA,MAAM,EAAN;AAHkB,AIhBxB,ACAA,IDAA,ACAA,GLgBI,EIhBJ,ACAA,AEsBE,ENEU,CGxBZ,ACAA,ODAA,ACAA,CDAA,ACAA,IEsBc,INEM,KGxBpB,ACAA,CDAA,ACAA,IJwBY,EAA0B;ADHnC,ACIC,AMFA,WNEK,EMFE,KAAK,CNEZ,CAAc,IAAd,CAAmB,KMFZ,GAAoB,CAApB,CNEP,EMF+B,KAAK,YAAL,GAAoB,CAA5C,GAAgD,CAAvD;ANGD,AGxBH,ACAA,AEsBG,IHtBH,ACAA,QDAA,ACAA,GDAA,ACAA,ODAA,ACAA,CDAA,ACAA,WDAA,ACAA,CDAA,ACAA;WHQE,sBAAU;AACR,AEPJ,ACAA,IDAM,ACAA,OHOG,AFYP,CInBY,ACAA,GHOV,CAAU,IAAV,CAAe,KAAf,EAAsB,KAAK,AFYhB,GEZX,CFYF,CEZkC,CFYP,IEZzB,AFYF,EAAmE,8qBKnBrE,2BDAA;AFQI,AFWiE,SOGnE,CPHuC,CEXhC,ADgBG,IChBR,CAAU,AFWuD,IEXjE,IKcc,MNEC,yDDL8C,IAAI;AETjE,AFUA,ACKA,AMFA,IHIiB,ACFA,MJAX,CDLD,EEVE,AKaA,ILbI,CAAC,ADeE,AMFF,GPHZ,ACKiB,CDLD,CEVT,AKaA,CLbW,AKaA,EPHlB,ACKsB,CDLD,EEVE,CKavB,GLbkB,CAAU,ADeX,CAAc,IAAd,CAAmB,ECf7B,ADeU,CCfjB,ADeA;ACdD,AFSwB,ACMvB,AMFD,QPJwB,GCMlB,CDNsB,EAAJ,IAAF,MCMrB;ADN6B,ACO7B,QDP6B,IAAI,CCO1B,CDPsB,IAAR,GCOrB;ADPmC,ACQpC,QDRoC,MAAM,EAAN;AAAd,OAArB,EOMF,eAAY;AHIZ,ACDA,AEFE,aAAO,KAAK,KAAL,CFEG,AEFQ,EHGR,IGHH,GAAoB,CAA3B,CFEF,EDCA,ACDiC,EDCA,GCDjC,EDCA,ACDiD,EDCA;AJR/C,AIQ+C,ACDA,AEDhD,UPNK,CAAC,ACQG,KDRE,OAAV,EAAmB,WCQK,GAAhB,EAA6B,KAA7B,EAA0C;ACjCtD,AF0BM,ACQF,OClCJ,CAAA,GDkCS,EDRE,EE1BX,GAAA,EF0BM,CE1BN,EF0BqB,ECQjB,EDRE,CADiB,ACSG,CDPpB,ICOyB,cAAL,CAAoB,OAApB,eAAmC,GAAnC,WAA8C,KAA9C,CAAtB;AACD,AGFgD,ACDA;ALJ7C,IEXO,IFWP,GOKJ,OPLc,CAAC,KAAK,IOKZ,CPLO,CAAW,IAAX,CAAgB,COK/B,EAAwB,CPLT,CAAD,EAAwB,CAAxB,CAAV;AACD,AIKD,ACDA,AECA,aAAO,KAAK,KAAL,CAAW,MHAZ,ACDA,EECC,CAAP,QHAA,ACDA,EDCmB,ACDA,QDCnB,ACDA;ALHD,AOKA,WNEO,yBAAa;AACnB,AGAF,ACKA,UDLA,ACKA,CJLO,KGAP,ACKA,GJLE,AGAO,ACKA,GJLS,EAAhB,KGAQ,EAAD,ACK6B,EDLR;AHC7B,AGAC,ACIoC,UDJ9B,ACIE,GDJC,CCI2B,EDJxB,IAAI,KAAA,CAAA,aAAJ,CAAkB,QAAA,CAAA,WAAA,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ,KCIuB,GAAa;AHzBtC,AG0BE,WLZM,AOKR,CFOO,KAAL,CAAW,KH1BD,GAAZ,EAAuB,AFcV,CKYX,GAAyB,EEPhB,IFOsB,CAAC,IAAD,CAA/B;AH1BqB,AFerB,AIOA,AGFA,UPLM,GOKC,KAAK,CPLG,GAAW,COK1B,EHEqC,GAAG,CAAC,CJPP,CAAC,IAAnC,CIOqC,EAArC;AAAA,ACMA,AEPD,UHCS,CCON,IDPF,ACOM,CAAC,GAAG,CAAC,MAAK,KDPR,ACOG,CAAW,IDPtB,OCOW,GAAyB,CAA1B,IAA+B,EADzC,EAEE,CAAC,GAAG,MAAK,KAAL,CAAW,WAAX,GAAyB,EAF/B,EAGE,CAAC,EAHH,EAIE;AHhCmB,AFiBrB,AIKA,ACWE,ULhBE,AIKW,OAAf,EJLa,KAAK,EAAd,GEhBE,CFgBkB,EEjBH,CEsBN,CCYX,CLjByB,KIK7B,ACYS,KAAL,CAAW,CLjBf,EAA2C,IKiBvC,CAAmB,CAAnB,CADF;AH/BH,AFgBG,AIIF,ACWE,UDXsB,ECWd,CLfH,CKeL,IDXF,OJJE,CAAkB,IAAlB,CAAuB,GIID,GJJtB,AKeQ,EAAR,GDXF;AJHE,ACvCN,AIqDM,OJrDN,CAAA,GM2CE,CFUgB,GJrDlB,EIqDM,CJrDN,IAAA,OM2CW,KAAT,EAA0B,IFUV,KAAZ;ALbD,AIID,ACSE,AETF,WAAK,CHAA,ACSgB,IETrB,CHAA,CAAW,CGAE,KAAK,CAAC,CHAnB,ACSE,CDTkB,CGAP,CAAU,IHAG,CAAC,EAAD,CAA1B,EGAwB,IAAD,MFSF,cAAnB;AAAA,AETqB,YFSc,GETJ,CFS/B,KET+B,CAAA,MAAA,CAAA,MAAA,CAAA,GFSI,GETJ,CFS/B,AET+B,EAAA,EAC5B,IAD4B,CAAA,EACxB;APXE,AIWX,ACQE,AEPA,UAAA,CLtBJ,CEqBO,ACQsC,EEPrC,EAAE,EFON,SDRF,CAAqB,EFrBhB,WEqBL,ACQ2C,EDRP,ICQlC,ELXsB,AIGiB,KJHZ,AIGO,CAAW,SJXpC,EIWyB,CAAuB,QAAvB,EAApC;AFpBA,AFSW,AKmBT,AERO,SADwB,CAAV,EFS4B,CH5B5C,KAAK,EG4BV,QH5BK,EAAP,aG4BmD,QAAjD;AH3BH,AEoBC,ACOE,AETqB,OAAV,CAAb,IHEK,ACOwD,IAA3D,WDPF,CAAqB,OAArB,EAA8B,ECO+B,GDP7D,CCOE;ALnBS,AOcZ;APNC,AIKA,ACSE,YDTG,ECSE,OAAL,MDTF,CAAqB,SAArB,EAAgC,OAAhC,aCWM,CLhBmC,GKgB/B,GAAG,YAAH,GAAkB,UAF1B,oMAM0B,EAN1B,gBAMiC,KANjC,yKASyE,cATzE,yNAc+C,IAd/C,2EAegD,MAfhD,2EAgBgD,QAhBhD;ALduC,AKmCxC,cLnCU,SAA8B;AIMzC,EF7B6B,SK+B/B,CHFO,eAAL,CAAqB,CGEd,EAAT,EAAmB,KHFjB,EAAiC,MAAK,WAAL,CAAiB,QAAjB,CAAjC;AJLE,AKoCF,AE5BA,UAAM,EF4BD,ELpCC,AOQI,GAAG,KAAK,CPRH,CAAC,GKoChB,AE5Ba,CF4BQ,AE5BG,GPRlB,CAAkB,AOQX,CAAgB,MF4B7B,ELpCiC,AKoCC,CLpCA,COQJ,GPRxB,CKoCiC,AE5BV,IPRc,CAAzC,EAA4C,AKoCZ,EAAlC;AH5DJ,AFyBQ,AIMJ,AGC6B,OLhCjC,CAAA,IE+BS,GGC4C,CPPzC,GEzBZ,AKgCyD,CAAC,ELhC1D,AE+BI,AGCiD,GPPhC,CAAC,COO2C,EAAhC,GPPzB,CEzBR,CFyB8B;AACpB,AIMP,AC6BC,AE7B6B,KHX/B,EGWe,CAAb,IF6BK,MLnCO,SKmCZ,CAAqB,CLnCE,GAAG,OKmC1B,ELnCmC,AKmCD,CLnCE,KAAV,AKmCc,CLnCE,AKmCD,MAAK,GLnCK,CAAC,CKmCX,CAAW,ILnC1B,CAApB,GKmCkC,CAAxC;IHnDS;AFkBH,AIVN,AC4CA,AE5BA,UHhBK,AGgBD,EF4BC,EE5BL,CHhBA,CGgBU,EPNA,AIVG,KAAb,IC4CA,CAAqB,CLlCf,EAAiB,QKkCvB,EAAkC,MAAM,CAAC,MAAK,KAAL,CAAW,QAAZ,CAAxC;ALjCQ,AIbuC,AGmB7C,QAAA,IAAI,CAAC,GPNC,COMN,GAAY,IAAZ,CPNe,CAAC,IAAV,CAAe,MAAf,CAAsB,KAAtB,CAA4B,IAA5B,EAAkC,CAAC,WAAW,CAAC,CAAD,CAAZ,CAAlC;AACD,AIXR,AC6CC,AE5BC,YF4BI,UAAL;ALjCK,AKkCN,AE5BA,KFXD,QLDM,MAMO;AEpBb,AFqBQ,cAAA,SAAS,CAAC,CErBN,GAAZ,AFqBQ,CAAe,CErBA,KFqBf;AErBe,AFsBhB,AKfL,UAAK,KAAL,GAAa,KAAb;AACA,UAAK,CDeC,ECfN,GAAW,IAAI,KAAA,CAAA,MDeG,KCfP,CAAgB,EDerB,EAAmC,ICfd,CAAA,QAAhB,CAAX;AHRqB,AFuBjB,AICJ,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IFvBd,GADe,CEwBO,CAAC,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AFtB3C,AFsBI,AICD,ACfF,QAAI,CAAC,GDeG,GCfE,IDeK,CCfV,CAAW,CDee,OCf/B,CDeuC,CAAC,ACfd,CDea,CAArC;AJAD,AIEC,AChBA,AEvCN,OAAA,CAAA,IFuCW,CDgBA,AGvDX,GAAA,CFuCM,CAAW,EDgBX,CGvDN,KFuCM,CAAoB,MAAK,GAAL,CAAS,OAAT,EAApB,sBDiB8B,OAAO,CAAC,KAAR,GAAgB,EAD9C,mJAIgB,OAAO,CAAC,IAJxB,uBAIyC,OAAO,CAAC,QAJjD,sEAM+B,OAAO,CAAC,OANvC;AJvBS,AKQV;ALRU,AIiCT,YAAI,OAAO,CAAC,QAAR,CAAiB,MAAjB,GAA0B,CAA9B,EAAiC;AJjCxB,AIkCP,AClC2C,WHAjD,IEkCW,OAAL,CAAa,KAAK,EFlCjB,SEkCY,CAAiB,OAAO,CAAC,QAAzB,CAAb;AFjCJ,AFDW,AImCR,AC1BJ,aHRQ,KAAK,UAAL,EAAP;AACD,AFFY,AIoCV;AJdF;AIgBC,EC1CsC,MAAA,CAAA,ID0C/B,KAAK,OAAL,EAAP;AACD;AC3CH,EHDmC,KGCnC,CAAA,OAAA,GAAA,YAAA;;AHDA,OAAA,CAAA,aAAA,GAAA,aAAA;AF1BA,EI6B4C,KJ7B5C,CAAA,AI6B4C,CAAA,MJ7B5C,GAAA,MAAA;;AI6BA,OAAA,CAAA,OAAA,GAAA,cAAA","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from \"../types\";\nimport View from \"./view\";\n\nexport default class Router {\n  private isStart: boolean;\n  defaultRoute: RouteInfo | null;\n  routeTable: RouteInfo[];\n\n  constructor() {\n    window.addEventListener(\"hashchange\", this.route.bind(this));\n\n    this.isStart = false;\n    this.defaultRoute = null;\n    this.routeTable = [];\n  }\n\n  setDefaultPage(page: View, params: RegExp | null = null): void {\n    this.defaultRoute = {\n      path: \"\",\n      page,\n      params,\n    };\n  }\n\n  addRoutePath(path: string, page: View, params: RegExp | null = null): void {\n    this.routeTable.push({ path, page, params });\n\n    if (!this.isStart) {\n      this.isStart = true;\n      // Execute next tick\n      setTimeout(this.route.bind(this), 0);\n    }\n  }\n\n  private route() {\n    const routePath: string = location.hash;\n\n    if (routePath === \"\" && this.defaultRoute) {\n      this.defaultRoute.page.render();\n      return;\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if (routePath.indexOf(routeInfo.path) >= 0) {\n        if (routeInfo.params) {\n          const parseParams = routePath.match(routeInfo.params);\n\n          if (parseParams) {\n            routeInfo.page.render.apply(null, [parseParams[1]]);\n          }\n        } else {\n          routeInfo.page.render();\n        }\n        return;\n      }\n    }\n  }\n}\n","export default abstract class View {\n  private container: HTMLElement;\n  private template: string;\n  private renderTemplate: string;\n  private htmlList: string[];\n\n  constructor(containerId: string, template: string) {\n    const conatinerElement: HTMLElement | null =\n      document.getElementById(containerId);\n\n    if (!conatinerElement) {\n      throw \"최상위 컨테이너가 없어 UI를 진행하지 못합니다.\";\n    }\n\n    this.container = conatinerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template;\n  }\n\n  protected addHtml(htmlString: string): void {\n    this.htmlList.push(htmlString);\n  }\n\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join(\"\");\n    this.clearHtmlList();\n    return snapshot;\n  }\n\n  protected setTemplateData(key: string, value: string) {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = [];\n  }\n\n  abstract render(...params: string[]): void;\n}\n","import { NewsFeed, NewsDetail } from \"../types\";\n\nexport default class Api {\n  ajax: XMLHttpRequest;\n  url: string;\n\n  constructor(url: string) {\n    this.ajax = new XMLHttpRequest();\n    this.url = url;\n  }\n\n  getRequest<AjaxResponse>(): AjaxResponse {\n    this.ajax.open(\"GET\", this.url, false);\n    this.ajax.send();\n\n    return JSON.parse(this.ajax.response) as AjaxResponse;\n  }\n}\n\nexport class NewsFeedApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  getData(): NewsFeed[] {\n    return this.getRequest<NewsFeed[]>();\n  }\n}\n\nexport class NewsDetailApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  getData(): NewsDetail {\n    return this.getRequest<NewsDetail>();\n  }\n}\n","export const NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nexport const CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\n","import View from \"../core/view\";\nimport { NewsDetailApi } from \"../core/api\";\nimport { NewsComment, NewsStore } from \"../types\";\nimport { CONTENT_URL } from \"../config\";\n\nconst template = `\n<div class=\"bg-gray-600 min-h-screen pb-8\">\n  <div class=\"bg-white text-xl\">\n    <div class=\"mx-auto px-4\">\n      <div class=\"flex justify-between items-center py-6\">\n        <div class=\"flex justify-start\">\n          <h1 class=\"font-extrabold\">Hacker News</h1>\n        </div>\n        <div class=\"items-center justify-end\">\n          <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n            <i class=\"fa fa-times\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n    <h2>{{__title__}}</h2>\n    <div class=\"text-gray-400 h-20\">\n      {{__content__}}\n    </div>\n    {{__comments__}}\n  </div>\n</div>\n`;\n\nexport default class NewsDetailView extends View {\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n    this.store = store;\n  }\n\n  render = (id: string): void => {\n    const api = new NewsDetailApi(CONTENT_URL.replace(\"@id\", id));\n    const { title, content, comments } = api.getData();\n\n    this.store.makeRead(Number(id));\n    this.setTemplateData(\"currentPage\", this.store.currentPage.toString());\n    this.setTemplateData(\"title\", title);\n    this.setTemplateData(\"content\", content);\n    this.setTemplateData(\"comments\", this.makeComment(comments));\n\n    this.updateView();\n  };\n\n  private makeComment(comments: NewsComment[]): string {\n    for (let i = 0; i < comments.length; i++) {\n      const comment: NewsComment = comments[i];\n\n      this.addHtml(`\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n          <div class=\"text-gray-400\">\n            <i class=\"fa fa-sort-up mr-2\"></i>\n            <strong>${comment.user}</strong> ${comment.time_ago}\n          </div>\n          <p class=\"text-gray-700\">${comment.content}</p>\n        </div>      \n      `);\n\n      if (comment.comments.length > 0) {\n        this.addHtml(this.makeComment(comment.comments));\n      }\n    }\n\n    return this.getHtml();\n  }\n}\n","import View from \"../core/view\";\nimport { NewsFeedApi } from \"../core/api\";\nimport { NewsStore } from \"../types\";\nimport { NEWS_URL } from \"../config\";\n\nconst template = `\n<div class=\"bg-gray-600 min-h-screen\">\n  <div class=\"bg-white text-xl\">\n    <div class=\"mx-auto px-4\">\n      <div class=\"flex justify-between items-center py-6\">\n        <div class=\"flex justify-start\">\n          <h1 class=\"font-extrabold\">Hacker News</h1>\n        </div>\n        <div class=\"items-center justify-end\">\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n            Previous\n          </a>\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n            Next\n          </a>\n        </div>\n      </div> \n    </div>\n  </div>\n  <div class=\"p-4 text-2xl text-gray-700\">\n    {{__news_feed__}}        \n  </div>\n</div>\n`;\n\nexport default class NewsFeedView extends View {\n  private api: NewsFeedApi;\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n\n    this.store = store;\n    this.api = new NewsFeedApi(NEWS_URL);\n\n    if (!this.store.hasFeeds) {\n      this.store.setFeeds(this.api.getData());\n    }\n  }\n\n  render = (page: string = \"1\"): void => {\n    this.store.currentPage = Number(page);\n\n    for (\n      let i = (this.store.currentPage - 1) * 10;\n      i < this.store.currentPage * 10;\n      i++\n    ) {\n      const { id, title, comments_count, user, points, time_ago, read } =\n        this.store.getFeed(i);\n\n      this.addHtml(`\n        <div class=\"p-6 ${\n          read ? \"bg-red-500\" : \"bg-white\"\n        } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n          <div class=\"flex\">\n            <div class=\"flex-auto\">\n              <a href=\"#/show/${id}\">${title}</a>  \n            </div>\n            <div class=\"text-center text-sm\">\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\n            </div>\n          </div>\n          <div class=\"flex mt-3\">\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n            </div>  \n          </div>\n        </div>    \n      `);\n    }\n\n    this.setTemplateData(\"news_feed\", this.getHtml());\n    this.setTemplateData(\"prev_page\", String(this.store.prevPage));\n    this.setTemplateData(\"next_page\", String(this.store.nextPage));\n\n    this.updateView();\n  };\n}\n","export { default as NewsDetailView } from \"./news-detail-view\";\nexport { default as NewsFeedView } from \"./news-feed-view\";\n","import { NewsStore, NewsFeed } from \"./types\";\n\nexport class Store implements NewsStore {\n  private feeds: NewsFeed[];\n  private _currentPage: number;\n\n  constructor() {\n    this.feeds = [];\n    this._currentPage = 1;\n  }\n\n  get currentPage() {\n    return this._currentPage;\n  }\n\n  set currentPage(page: number) {\n    this._currentPage = page;\n  }\n\n  get nextPage(): number {\n    return this._currentPage + 1;\n  }\n\n  get prevPage(): number {\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\n  }\n\n  get numberOfFeed(): number {\n    return this.feeds.length;\n  }\n\n  get hasFeeds(): boolean {\n    return this.feeds.length > 0;\n  }\n\n  getFeed(position: number): NewsFeed {\n    return this.feeds[position];\n  }\n\n  getAllFeeds(): NewsFeed[] {\n    return this.feeds;\n  }\n\n  setFeeds(feeds: NewsFeed[]): void {\n    this.feeds = feeds.map((feed) => ({\n      ...feed,\n      read: false,\n    }));\n  }\n\n  makeRead(id: number): void {\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id === id);\n\n    if (feed) {\n      feed.read = true;\n    }\n  }\n}\n","import Router from \"./core/router\";\nimport { NewsFeedView, NewsDetailView } from \"./page\";\nimport { Store } from \"./store\";\n\nconst store = new Store();\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView(\"root\", store);\nconst newsDetailView = new NewsDetailView(\"root\", store);\n\nrouter.setDefaultPage(newsFeedView);\n\nrouter.addRoutePath(\"/page/\", newsFeedView, /page\\/(\\d+)/);\nrouter.addRoutePath(\"/show/\", newsDetailView, /show\\/(\\d+)/);\n"]}